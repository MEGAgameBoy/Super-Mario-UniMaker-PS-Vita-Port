<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_uni_settings_box</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-90</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>menu_choice = 0;
page = 0;
fade = 0;
event_user(1);
alarm[0] = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Quit menu
if(fade &lt;= 0){

    fade = 0;
    
    //Save settings
    scr_settings_save();
    instance_destroy();
    alarm[1] = -1;
};
else{

    fade -= 0.10;
    alarm[1] = 1;
};
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Open menu
if(fade &gt;= 1){

    fade = 1;
    alarm[0] = -1;
};
else{

    fade += 0.10;
    alarm[0] = 1;
};
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Controles

//CONFIRM
if(gamepad_button_check_pressed(0, gp_face1))
    event_user(3);
    
//Return button  
if(gamepad_button_check_pressed(0, gp_face2) &amp;&amp; alarm[0] == -1 &amp;&amp; alarm[1] == -1)
    alarm[1] = 1;

    
//Dpad    
if(gamepad_button_check_pressed(0, gp_padd) &amp;&amp; menu_choice &lt; 8)
    menu_choice++;
    
if(gamepad_button_check_pressed(0, gp_padu) &amp;&amp; menu_choice &gt; 0)
    menu_choice--;
  

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///OPTIONS
if(fade &lt; 1)
    exit;

if(menu_choice == 0)//Language
{
        if(global.language == 0)
            global.language = 1;
        else if (global.language == 1)
            global.language = 2;
        else if (global.language == 2)
            global.language = 0;
        
        event_user(1);
        
    global.screenprotector =! global.screenprotector;
};
else if(menu_choice == 1)//Filter
{
    if(global.filter &lt; 4)
        global.filter++;
    else
        global.filter = 0;
};
else if(menu_choice == 2)//Vsync
{
    if(global.vsync &lt; 2)
        global.vsync++;
    else
        global.vsync = 0;
    with(obj_persistent) event_user(1);
};
else if(menu_choice == 3)//Graphic Processing
{
    if(global.vbm &lt; 2)
        global.vbm++;
    else
        global.vbm = 0;
    with(obj_persistent) event_user(1);
};
else if(menu_choice == 4)//Screensaver
{
    global.screenprotector =! global.screenprotector; 
};
else if(menu_choice == 5)//Frameskip
{
       global.frameskip =! global.frameskip;
};
else//OK!
{
    if(alarm[0] == -1)
    &amp;&amp;(alarm[1] == -1)
    {
     alarm[1] = 1;
    };
};
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Apply language
if(global.language == 1){

    menu[0] = "IDIOMA: ";
    menu[1] = "FILTROS: ";
    menu[2] = "VSYNC: ";
    menu[3] = "PROCESS. GRAFICO: ";
    menu[4] = "PROTETOR DE TELA: ";
    menu[5] = "SALTO DE QUADROS: ";
    menu[6] = "OK!";
};
else if(global.language == 2){

    menu[0] = "IDIOMA: ";
    menu[1] = "FILTROS: ";
    menu[2] = "VSYNC: ";
    menu[3] = "PROCESS. GRAFICO: ";
    menu[4] = "PROTECTOR DE PANTALLA: ";
    menu[5] = "SALTO DE CUADROS: ";
    menu[6] = "OK!";
};
else{

    menu[0] = "LANGUAGE: ";
    menu[1] = "FILTERS: ";
    menu[2] = "VSYNC: ";
    menu[3] = "GRAPHIC PROCESSING: ";
    menu[4] = "SCREENSAVER: ";
    menu[5] = "FRAMESKIP: ";
    menu[6] = "OK!";
};
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var lang, gamepad, vsync, filter, protect, frameskip, vbm, on, off;

//OFF e ON
if(global.language == 1){

    on = "LIG."
    off = "DESL."
}
else if(global.language == 2){

    on = "LIG."
    off = "DESL."
}
else{

    on = "ON"
    off = "OFF"
}

if(global.frameskip == 0)
    frameskip = off;
else
    frameskip = on;
    
    if(window_get_fullscreen())
        full = on;
    else
        full = off;
        
//SCREEN PROTECTOR
if(global.screenprotector == 1)
    protect = on;
else
    protect = off;

//VSYNC
if(global.vsync == 2)
    vsync = on+" (ALT.)"
else if(global.vsync == 1)
    vsync = on
else
    vsync = off

//LANGUAGE
if(global.language == 1)
    lang = "PT."
else if(global.language == 2)
    lang = "ESP."
else
    lang = "ENG."

//FILTER
if(shaders_are_supported()){

    if(global.filter == 1)
        filter = "SMOOTH (CI)"
    else if(global.filter == 2)
        filter = "HQ2X"
    else if(global.filter == 3)
        filter = "HQ4X"
    else if(global.filter == 4)
        filter = "CRT TV"
    else
        filter = off
}
else{

    if(global.language == 1)
        filter = "INCOMPATIVEL"
    else if(global.language == 2)
        filter = "INCOMPATIBLE"
    else
        filter = "INCOMPATIBLE"
}


if(global.vbm == 2)
    vbm = "COMPATIBLE+";
else if(global.vbm == 1)
    vbm = "NORMAL";
else
    vbm = "COMPATIBLE";

    
//Background
if(room == rm_uni_title)
    draw_sprite_tiled_ext(spr_uni_layout_part_submenu,0,0,0,1,1,c_white,fade);

//Parameters
draw_sprite_ext(spr_uni_settings_box,0,x,y,1,1,0,c_white,fade);
draw_set_font(global.font);
draw_set_halign(fa_right);
draw_set_alpha(fade);

//-----------------MENU-------------------

//0
if(menu_choice == 0)
   draw_set_color(c_yellow);
else
    draw_set_color(c_white);
    
draw_text(x+260,y+13,menu[0]+lang);
    
//1
if(menu_choice == 1)
   draw_set_color(c_yellow);
else
    draw_set_color(c_white);
    
draw_text(x+260,y+13*2,menu[1]+filter);
    
//2
if(menu_choice == 2)
   draw_set_color(c_yellow);
else
    draw_set_color(c_white);
draw_text(x+260,y+13*3,menu[2]+vsync);

//3
if(menu_choice == 3)
   draw_set_color(c_yellow);
else
    draw_set_color(c_white);

draw_text(x+260,y+13*4,menu[3]+vbm);
    
//4
if(menu_choice == 4)
   draw_set_color(c_yellow);
else
    draw_set_color(c_white);

draw_text(x+260,y+13*5,menu[4]+protect);
      
//5
if(menu_choice == 5)
   draw_set_color(c_yellow);
else
    draw_set_color(c_white);

draw_text(x+260,y+13*6,menu[5]+frameskip);
    
//6
if(menu_choice == 6)
   draw_set_color(c_yellow);
else
    draw_set_color(c_white);

draw_text(x+260,y+13*7,menu[6]);

//----------------------------------------

//Reset text
draw_set_color(c_white);
draw_set_halign(fa_left);
draw_set_alpha(1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
