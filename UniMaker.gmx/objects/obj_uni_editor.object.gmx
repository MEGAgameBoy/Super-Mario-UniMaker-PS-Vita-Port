<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_uni_sys_editor</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-20</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///LET'S MADE-IT!

//Vars: Editor
editoralpha = 1;
limit = false;
movement = true
color = 0;
fade_ffw = 0;

//Música/Volume
editor_music = 0;
level_music = 0;
play_volume = 0;
edit_volume = 1;

//Start Over
startover = 0;

//Mover editor mais rápidamente
nav_spd = 0;

//Começo/Fim nível no mini map
levelstart_pos = 124;
levelend_pos = 220;

//Texto Fontes
font_clock = font_add_sprite_ext(spr_uni_font_clock,"0123456789",0,0);

//HUD
font_coin = font_add_sprite_ext(spr_hud_coin_font,"0123456789",0,0);
font_lives = font_add_sprite_ext(spr_font_mininumbers,"0123456789",0,0);
font_score = font_add_sprite_ext(spr_hud_score_font,"0123456789",0,0);
font_time = font_add_sprite_ext(spr_hud_timer_font,"0123456789-",0,0);
font_timehurry = font_add_sprite_ext(spr_hud_timer_font_hurryup,"0123456789-",0,0);

//Seguir view
view_object[0] = id;
view_hborder[0] = 512;
view_vborder[0] = 288;

//Criar grade
level_start = false;
levelmusic_start = false;

if(global.uni_mode = 0){

    //Info (1.S)
    global.uni_level_name = "";
    global.uni_level_author = "";
    global.uni_level_icon = 0;
    global.uni_level_password = "";
    global.uni_level_passwordon = 0;

    event_user(0);
    event_user(1);
    event_user(6);
    event_user(9);
}
//UniPlayer
else
    event_user(10);

instance_create(0,0,obj_uni_levellake);
instance_create(0,0,obj_uni_background);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x,y,obj_uni_editor)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Tempo Editando (Local)

//Horas
if(obj_persistent.edit_min &gt; 58){
    
    if(obj_persistent.edit_hour &lt; 99){
        obj_persistent.edit_hour++;
        obj_persistent.edit_min = 0;
    };
    else
        obj_persistent.edit_min = 60;
};
//Minutos
else
    obj_persistent.edit_min++;

//1 Minuto (60 e 30 FPS)
if(global.frameskip == 0)
    alarm[9] = 3600;
else
    alarm[9] = 3600/2;
    
//Atualizar Rich Presence
with(obj_persistent) event_user(2);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///CUSTOM THEME - Animação Loop
if(global.uni_play == 1){
if(global.theme_customanim &lt; global.custom_scenery_sprsheet_frames-1)
    global.theme_customanim++;
else
    global.theme_customanim = 0;
};
else
    global.theme_customanim = 0;
alarm[8] = global.custom_scenery_sprsheet_anim;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Rastro do Mario
if(global.uni_play == 1){

    var blur;
    if(instance_exists(obj_mario)){
    
        if(instance_number(obj_uni_mario_trail) &gt; 24){
            
            with(instance_furthest(obj_mario.x,obj_mario.y,obj_uni_mario_trail))
                instance_destroy();
        };
    
        if(obj_mario.visible == true)
        &amp;&amp;(obj_mario.speed != 0)
        {
            //instance_create(floor(obj_mario.x/16)*16+8,obj_mario.y,obj_uni_mario_trail);
            with(instance_create(obj_mario.x,obj_mario.y,obj_uni_mario_trail))
            {
                sprite_index = obj_mario.sprite_index;
                image_index = obj_mario.image_index;
                image_xscale = obj_mario.direct;
                image_speed = 0;
            };
        };
    };
    
    if(instance_exists(obj_goalmario)){
    
        if(obj_goalmario.visible == true)
        &amp;&amp;(obj_goalmario.speed != 0)
        {
            with(instance_create(obj_goalmario.x,obj_goalmario.y-9,obj_uni_mario_trail))
            {
                sprite_index = obj_goalmario.sprite_index;
                image_index = obj_goalmario.image_index;
                image_speed = 0;
            };
        };
    };
    
    if(instance_exists(obj_yoshi)){
    
        if(obj_yoshi.visible == true)
        &amp;&amp;(obj_mario.speed != 0)
        {
            with(instance_create(obj_mario.x,obj_mario.y-9,obj_uni_mario_trail))
            {
                sprite_index = obj_mario.sprite_index;
                image_index = obj_mario.image_index;
                image_xscale = obj_mario.direct;
                image_speed = 0;
            };
        };
    };
    
    if(instance_exists(obj_kuriboshoe)){
    
        if(obj_kuriboshoe.visible == true)
        &amp;&amp;(obj_mario.speed != 0)
        {
            blur = instance_create(obj_mario.x,obj_mario.y-3,obj_uni_mario_trail);
            blur.image_speed = 0;
            blur.sprite_index = scr_mariowalk();
            blur.image_index = obj_mario.image_index;
            blur.image_xscale = obj_mario.direct;
            blur.image_blend = c_white;
            blur.image_alpha = 0.5;
        };
    };
    
    //Criar mais    
    alarm[7] = 9; //5
};
else
    alarm[7] = -1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Mudar Música
if(global.uni_mode == 0){
    event_user(4);
  audio_master_gain(1)
};
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with(obj_uni_background) 
event_user(6);
with(obj_uni_shadow)
event_user(0);
if(global.uni_mode == 0)
    global.uni_instance_deactivate = 1;
else{

if(global.checkpoint == 1){

    if(instance_exists(obj_checkpoint_edit)){
    
        x = obj_checkpoint_edit.x;
        y = obj_checkpoint_edit.y;
        view_xview[0] = obj_checkpoint_edit.x;
        view_yview[0] = obj_checkpoint_edit.y;
    };
};
else{
    if(instance_exists(obj_uni_startsing)){
    
        x = obj_uni_startsing.x;
        y = obj_uni_startsing.y;
        view_xview[0] = obj_uni_startsing.x;
        view_yview[0] = obj_uni_startsing.y;
    };
};
    //PLAY!!
    level_start = true;
    event_user(2);
};

alarm[6] = 4;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Visibilidade do FFW
if(nav_spd != 0){
    if(fade_ffw == 0){
        fade_ffw = 1;
        alarm[4] = 30;
    }
    else{
        fade_ffw = 0;
        alarm[4] = 15;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Alterar posição do icone do inicio do nível
/*if(obj_uni_startsing.x &gt; 0)
    levelstart_pos = 124;
else if(obj_uni_startsing.x &gt; 432)
    levelstart_pos = 136;
else if(obj_uni_startsing.x &gt; 864)
    levelstart_pos = 148;
else if(obj_uni_startsing.x &gt; 1296)
    levelstart_pos = 160;
else if(obj_uni_startsing.x &gt; 1728)
    levelstart_pos = 172;
else if(obj_uni_startsing.x &gt; 2160)
    levelstart_pos = 184;
else if(obj_uni_startsing.x &gt; 2592)
    levelstart_pos = 196;
else if(obj_uni_startsing.x &gt; 3024)
    levelstart_pos = 208;
else if(obj_uni_startsing.x &gt; 3456)
    levelstart_pos = 220;
else if(obj_uni_startsing.x &gt; 3888)
    levelstart_pos = 232;
else if(obj_uni_startsing.x &gt; 4320)
    levelstart_pos = 244;
else if(obj_uni_startsing.x &gt; 4752)
    levelstart_pos = 256;
else if(obj_uni_startsing.x &gt; 5184)
    levelstart_pos = 268;
else if(obj_uni_startsing.x &gt; 5616)
    levelstart_pos = 280;
else if(obj_uni_startsing.x &gt; 6048)
    levelstart_pos = 292;
else if(obj_uni_startsing.x &gt; 6480)
    levelstart_pos = 304;
else if(obj_uni_startsing.x &gt; 6912)
    levelstart_pos = 316;*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Ativar objetos por 60 frame
//Permitir que os objetos possam ser ativos
global.uni_instance_deactivate = false;
//Ativar objetos...
instance_activate_object(obj_uni_ground);
//Após 60 frames desativar tudo
alarm[0] = 60;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Desativar objetos
global.uni_instance_deactivate = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///UniPlayer - Criar Mario depois que o tamanho do nível foi definido
if(global.checkpoint == 1){
    with(obj_checkpoint) 
        instance_create(x+16,y-2,obj_mario);
};
else{
    with(obj_uni_start) 
        instance_create(x+16,y-2,obj_mario);
};
//Autoscroll e Classic scroll
if(global.uni_level_autoscroll == 1)
||(global.uni_level_autoscroll == 2)
||(global.uni_level_autoscroll == 3)
    instance_create(view_xview[0]+214,view_yview[0]+226,obj_uni_autoscroll);
else if(global.uni_level_autoscroll == 4)
    instance_create(0,0,obj_uni_classicscroll);
levelmusic_start = true;
level_start = false;
event_user(4);
audio_master_gain(1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Zona de atividade
    //Desativador: ON
    if(global.uni_instance_deactivate == 1){
        
        //PLAY MODE
        if(global.uni_play == 1){
                    
            //Colisões
            instance_deactivate_object(obj_solidtop);
            instance_activate_region(view_xview[0]-128,-96,view_wview[0]+128+128,room_height+300,1);
            
            //Objetos em geral
            instance_deactivate_object(obj_deactivation);
            instance_activate_region(view_xview[0]-32,-96,view_wview[0]+32+32,room_height+300,1);

            //Objetos gráficos
            instance_deactivate_object(obj_modelbgo);            
            instance_activate_region(view_xview[0]-32,view_yview[0]-32,view_wview[0]+32+32,view_hview[0]+32+32,1);
            
            //Ignorados
            instance_deactivate_object(obj_uni_parent_save);
            instance_deactivate_object(obj_uni_mario_trail);
        };        
        //EDIT MODE
        else{
        
            with(obj_uni_parent_save){
                if(exception == 0){
                    if(object_is_ancestor(object_index,obj_uni_parent_resource)){
                        if(drag == 0){
                            instance_deactivate_object(id);
                        };
                    };
                    else
                        instance_deactivate_object(id);
                };  
            };
            instance_deactivate_object(obj_uni_mario_trail);
            instance_activate_region(view_xview[0]-32,view_yview[0]-32,view_wview[0]+32+32,view_hview[0]+32+32,1);
        
        };        
    };
    //Desativador: OFF
    else{
          
        instance_activate_object(obj_uni_mario_trail);
        instance_activate_object(obj_solidtop);
        instance_activate_object(obj_deactivation);
        instance_activate_object(obj_uni_parent_save); 
    };
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Transição da música
if(global.uni_mode == 1){

        //Deixar tudo sem volume
        edit_volume = 0;
        
        //Música do nível
        //if(levelmusic_start == false)
        if (global.uni_sfxisplaying == true)
        || (instance_exists(obj_deadmario))
        || (instance_exists(obj_goalmario))
        or (audio_is_playing(snd_key))
        or (audio_is_playing(snd_flagpole))
        or (audio_is_playing(global.uni_musicpack[60])) //Course Clear
        or (audio_is_playing(global.uni_musicpack[64])) //Boss Clear
        or (audio_is_playing(global.uni_musicpack[54])) //Super Star
        or (audio_is_playing(global.uni_musicpack[55])) //P-Switch
        {
          
        play_volume = 0;
    }
    else{
        if(instance_exists(obj_mario))  
        play_volume = 1;
        else
        play_volume = 0
    };
    
    //Modificar volume
    audio_sound_gain(level_music,play_volume,0);
    audio_sound_gain(editor_music,edit_volume,0);

}
else{
//Se estiver com o vólume de músicas ativo
if (global.uni_music_offon == true){

    ///Volume da música
    if (global.uni_play == 0){
        
        //Ligar Edit música
        if (edit_volume &lt; 1)
            edit_volume += 0.05;
        else
            edit_volume = 1;
        
        //Desligar Level música 
        if (play_volume &gt; 0)
            play_volume -= 0.05;
        else
            play_volume = 0;
    
        //Modificar volume
        audio_sound_gain(level_music,play_volume,0);
        audio_sound_gain(editor_music,edit_volume,0);

    }
    else{
        //Desligar Edit música
        if (edit_volume &gt; 0)
            edit_volume -= 0.05;
        else
            edit_volume = 0;
            
        //if(levelmusic_start == true)
        if (global.uni_sfxisplaying == true)
        || (instance_exists(obj_deadmario))
        || (instance_exists(obj_goalmario))
        or (audio_is_playing(snd_key))
        or (audio_is_playing(snd_flagpole))
        or (audio_is_playing(global.uni_musicpack[60])) //Course Clear
        or (audio_is_playing(global.uni_musicpack[64])) //Boss Clear
        or (audio_is_playing(global.uni_musicpack[54])) //Super Star
        or (audio_is_playing(global.uni_musicpack[55])) //P-Switch
        {  
            play_volume = 0;
        }
        else{
                    //Ligar Edit música
        if (play_volume &lt; 1)
            play_volume += 0.05;
        else
            play_volume = 1;
        }
        //Modificar volume
        audio_sound_gain(level_music,play_volume,0);
        audio_sound_gain(editor_music,edit_volume,0);
    }
}
else{
    //Deixar tudo sem volume
    audio_sound_gain(level_music,0,0);
    audio_sound_gain(editor_music,0,0);
 }
}

//HURRY UP
if(global.uni_play == 1){

    if(instance_exists(obj_mario)){
    if(global.uni_level_time &lt; 101)
    if(global.uni_level_time &gt; -1){
        audio_sound_pitch(level_music,1.2);
        audio_sound_pitch(editor_music,1.2);    
    };
    else{

        audio_sound_pitch(level_music,1);
        audio_sound_pitch(editor_music,1);    
    }
    };
    else{
        audio_sound_pitch(level_music,1);
        audio_sound_pitch(editor_music,1);        
    };
    if(global.uni_level_effect == 1)
        audio_sound_gain(global.custom_music_ambience,1,0);
    else
        audio_sound_gain(global.custom_music_ambience,0,0);
}
else{
    audio_sound_pitch(level_music,1);
    audio_sound_pitch(editor_music,1);    
    if(global.uni_level_effect == 1)
        audio_sound_gain(global.custom_music_ambience,0.5,0);
    else
        audio_sound_gain(global.custom_music_ambience,0,0);
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Bloqueio da navegação
if(global.uni_editor_activity == false){
    hspeed = 0;
    vspeed = 0;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Opacidade do editor
if(global.uni_mode = 0){

    if (global.uni_layout == false){
    
        if (global.uni_layout_fade &lt;= 0)
            global.uni_layout_fade = 0;
        else
            global.uni_layout_fade -= 0.10;
    }
    else{
    
        if (global.uni_layout_fade &gt;= 1)
            global.uni_layout_fade = 1;
        else
            global.uni_layout_fade += 0.10;
    }
}
else
    global.uni_layout_fade = 0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Limitação do visor
if(global.uni_play == 0){
if (x &lt; view_xview[0]+192){
    x = view_xview[0]+192;
    if (hspeed &lt; 0)
        hspeed = 0;
}
else if (x &gt; view_xview[0]+view_wview[0]-192){
    x = view_xview[0]+view_wview[0]-192;
    if (hspeed &gt; 0)
        hspeed = 0;
}
if (y &lt; view_yview[0]+108){
    y = view_yview[0]+108;
    if (vspeed &lt; 0)
        vspeed = 0;
}
else if (y &gt; view_yview[0]+view_hview[0]-108){
    y = view_yview[0]+view_hview[0]-108;
    if (vspeed &gt; 0)
        vspeed = 0;
}
};
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Navigation
if(global.uni_play == 0)
&amp;&amp;(global.uni_editor_activity == true){
    
    //Control
    if((keyboard_check_pressed(vk_control))||(keyboard_check_pressed(ord("Q"))))
        nav_spd = 9;
        if(alarm[4] == -1)
            alarm[4] = 1;
    else if((keyboard_check_released(vk_control))||(keyboard_check_released(ord("Q")))){
        nav_spd = 0;
        if(alarm[4] != -1){
            fade_ffw = 0;
            alarm[4] = -1;
        }
    }
    
    //Up &amp; down
    if((gamepad_button_check(0, gp_padu)
    || gamepad_axis_value(0, gp_axisrv) &lt; 0
    || gamepad_axis_value(0, gp_axislv) &lt; 0) and global.is_menu == false)
        vspeed = -4-nav_spd;
    else if((gamepad_button_check(0, gp_padd)
    || gamepad_axis_value(0, gp_axisrv) &gt; 0
    || gamepad_axis_value(0, gp_axislv) &gt; 0) and global.is_menu == false)
        vspeed = +4+nav_spd;
    else
        vspeed = 0;
    
    //Left &amp; right
    if((gamepad_button_check(0, gp_padl)
    || gamepad_axis_value(0, gp_axisrh) &lt; 0
    || gamepad_axis_value(0, gp_axislh) &lt; 0) and global.is_menu == false)
        hspeed = -4-nav_spd;
    else if((gamepad_button_check(0, gp_padr)
    || gamepad_axis_value(0, gp_axisrh) &gt; 0
    || gamepad_axis_value(0, gp_axislh) &gt; 0) and global.is_menu == false)
        hspeed = +4+nav_spd;
    else
        hspeed = 0;
        
    //Mario (On/Off)
    if(gamepad_button_check_pressed(0, gp_face4)){
        global.uni_mario_onoff =! global.uni_mario_onoff;
        with (obj_uni_mario)
        event_user(1);
    }
    
    //Item Swap
    if(gamepad_button_check_pressed(0, gp_face2))
        event_user(11);
    };
    //Pause
    if(gamepad_button_check_pressed(0, gp_start)){
    
        audio_sound_pitch(level_music,1);
        audio_sound_pitch(editor_music,1);
        if(startover == 0)
        instance_create(0,0,obj_uni_layout_mainmenu_back);
    };
    

///Iniciar: Tempo Editando (Local)
if(global.uni_mode == 0)
&amp;&amp;(alarm[9] == -1){

    //1 Minuto (60 e 30 FPS)
    if(global.frameskip == 0)
        alarm[9] = 3600;
    else
        alarm[9] = 3600/2;
};
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="21">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Trocar para recurso alternativo
if(global.uni_editor_activity == true)
&amp;&amp;(global.uni_play == false){
    switch(global.uni_select_resource){

        //Sizable Platforms    
        case(obj_uni_ground): global.uni_select_resource = obj_uni_demo2_ssp1; break;
        case(obj_uni_demo2_ssp1): global.uni_select_resource = obj_uni_demo2_ssp2; break;
        case(obj_uni_demo2_ssp2): global.uni_select_resource = obj_uni_demo2_ssp3; break;
        case(obj_uni_demo2_ssp3): global.uni_select_resource = obj_uni_demo2_mp1; break;
        case(obj_uni_demo2_mp1): global.uni_select_resource = obj_uni_demo2_mp2; break;
        case(obj_uni_demo2_mp2): global.uni_select_resource = obj_uni_demo2_mp3; break;
        case(obj_uni_demo2_mp3): global.uni_select_resource = obj_uni_ground; break;

        //Slopes
        case(obj_uni_demo_2): global.uni_select_resource = obj_uni_demo_2_2; break;
        case(obj_uni_demo_2_2): global.uni_select_resource = obj_uni_demo_2_3; break;
        case(obj_uni_demo_2_3): global.uni_select_resource = obj_uni_demo_2; break;
                
        //ON OFF BLOCK
        case(obj_uni_demo_16): global.uni_select_resource = obj_uni_demo_16_2; break;
        case(obj_uni_demo_16_2): global.uni_select_resource = obj_uni_demo_16; break;
            
        //KOOPA TROOPA
        case(obj_uni_demo_36_1): global.uni_select_resource = obj_uni_demo_36_2; break;
        case(obj_uni_demo_36_2): global.uni_select_resource = obj_uni_demo_36_1; break;

        //------------------------------------------------------
                                        
        //Expand Platforms
        case(obj_uni_demo_4_1): global.uni_select_resource = obj_uni_demo_4_2; break;
        case(obj_uni_demo_4_2): global.uni_select_resource = obj_uni_demo_4_3; break;
        case(obj_uni_demo_4_3): global.uni_select_resource = obj_uni_demo_4_1; break;

        //Hard Blocks
        case(obj_uni_demo_5_1): global.uni_select_resource = obj_uni_demo_5_2; break;
        case(obj_uni_demo_5_2): global.uni_select_resource = obj_uni_demo_5_3; break;
        case(obj_uni_demo_5_3): global.uni_select_resource = obj_uni_demo_5_4; break;
        case(obj_uni_demo_5_4): global.uni_select_resource = obj_uni_demo_5_1; break; 
                
        //Question Block - Invisible Block
        case(obj_uni_demo_8_1): global.uni_select_resource = obj_uni_demo_8_2; break;
        case(obj_uni_demo_8_2): global.uni_select_resource = obj_uni_demo_8_1; break;
        
        //Golden Coin - Blue Coin
        case(obj_uni_demo_17_1): global.uni_select_resource = obj_uni_demo_17_2; break;
        case(obj_uni_demo_17_2): global.uni_select_resource = obj_uni_demo_17_1; break;
        
        //Piranha Plants
        case(obj_uni_demo_37_1): global.uni_select_resource = obj_uni_demo_37_2; break;
        case(obj_uni_demo_37_2): global.uni_select_resource = obj_uni_demo_37_3; break;
        case(obj_uni_demo_37_3): global.uni_select_resource = obj_uni_demo_37_4; break;
        case(obj_uni_demo_37_4): global.uni_select_resource = obj_uni_demo_37_1; break;   

        //Cannon
        case(obj_uni_demo_54_1): global.uni_select_resource = obj_uni_demo_54_2; break;
        case(obj_uni_demo_54_2): global.uni_select_resource = obj_uni_demo_54_3; break;
        case(obj_uni_demo_54_3): global.uni_select_resource = obj_uni_demo_54_4; break;
        case(obj_uni_demo_54_4): global.uni_select_resource = obj_uni_demo_54_1; break; 

        //Spike Trap
        case(obj_uni_demo_62): global.uni_select_resource = obj_uni_demo_62_2; break;
        case(obj_uni_demo_62_2): global.uni_select_resource = obj_uni_demo_62; break;
        
        //Fire Blaster
        case(obj_uni_demo_63_1): global.uni_select_resource = obj_uni_demo_63_2; break;
        case(obj_uni_demo_63_2): global.uni_select_resource = obj_uni_demo_63_3; break;
        case(obj_uni_demo_63_3): global.uni_select_resource = obj_uni_demo_63_4; break;
        case(obj_uni_demo_63_4): global.uni_select_resource = obj_uni_demo_63_1; break;          
        
        //Bullet Blaster
        case(obj_uni_demo_64_1): global.uni_select_resource = obj_uni_demo_64_2; break;
        case(obj_uni_demo_64_2): global.uni_select_resource = obj_uni_demo_64_1; break;
        
        //Vertical Pipe - Horizontal Pipe
        case(obj_uni_demo_65_1): global.uni_select_resource = obj_uni_demo_65_2; break;
        case(obj_uni_demo_65_2): global.uni_select_resource = obj_uni_demo_65_1; break;

        //Donut - Red Donut
        case(obj_uni_demo_67_1): global.uni_select_resource = obj_uni_demo_67_2; break;
        case(obj_uni_demo_67_2): global.uni_select_resource = obj_uni_demo_67_1; break;
                
        //Up - Down - Left Right Platform
        case(obj_uni_demo_68_1): global.uni_select_resource = obj_uni_demo_68_2; break;
        case(obj_uni_demo_68_2): global.uni_select_resource = obj_uni_demo_68_3; break;
        case(obj_uni_demo_68_3): global.uni_select_resource = obj_uni_demo_68_4; break;
        case(obj_uni_demo_68_4): global.uni_select_resource = obj_uni_demo_68_1; break;

        //Spring - Super Spring
        case(obj_uni_demo_70_1): global.uni_select_resource = obj_uni_demo_70_2; break;
        case(obj_uni_demo_70_2): global.uni_select_resource = obj_uni_demo_70_1; break;
        
        //Spike Trap
        case(obj_uni_demo_71): global.uni_select_resource = obj_uni_demo_71_2; break;
        case(obj_uni_demo_71_2): global.uni_select_resource = obj_uni_demo_71_3; break;
        case(obj_uni_demo_71_3): global.uni_select_resource = obj_uni_demo_71; break;
                
        //Bottom - Top - Left - Right Flipper
        case(obj_uni_demo_74_1): global.uni_select_resource = obj_uni_demo_74_2; break;
        case(obj_uni_demo_74_2): global.uni_select_resource = obj_uni_demo_74_3; break;
        case(obj_uni_demo_74_3): global.uni_select_resource = obj_uni_demo_74_4; break;
        case(obj_uni_demo_74_4): global.uni_select_resource = obj_uni_demo_74_1; break;
        
        case(obj_goalpole_castle): global.uni_select_resource = obj_uni_flagpole; break;
        case(obj_uni_flagpole): global.uni_select_resource = obj_checkpoint_edit; break;
        case(obj_checkpoint_edit): global.uni_select_resource = obj_uni_startsing; break;
        case(obj_uni_startsing): global.uni_select_resource = obj_goalpole_block; break;
        case(obj_goalpole_block): global.uni_select_resource = obj_goalpole_castle; break;
    }
    if(global.uni_select_resource != global.uni_select_resource)
        audio_playstop_sound(snd_magic,0,false);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="20">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///UniPlayer - Carregar nível
audio_master_gain(0)

//Destruir objetos existentes
with(obj_uni_parent_resource)
    instance_destroy();
    
    fname = global.uni_loadlevel;
    
    //Carregar nível
    if(filename_ext(fname) == ".uni"){
    
        //UniMaker 1.0
        audio_stop_all();
        scr_uni_level_load_legacy(fname);
        scr_uni_custom(fname,1);
    }
    else{
    
        //UniMaker 1.S
        audio_stop_all();
        scr_uni_loadcopy(fname);
        scr_uni_level_load(fname);
        scr_uni_custom(fname,0);
    }
    
    //Limpar memória
    cleanmem();
    
//Fazer alterações no editor
event_user(9);
event_user(6);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="19">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Alterar tamanho do nível
switch(global.uni_level_size){
    case(0):{
        if(view_xview[0] &gt; 0)
            view_xview[0] = 0;
        room_width = 432;
        //Posição do icone do fim do nível
        levelend_pos = 124;
    }break;
    case(1):{
        if(view_xview[0] &gt; 432)
            view_xview[0] = 432;
        room_width = 864;
        //Posição do icone do fim do nível
        levelend_pos = 136;
    }break;
    case(2):{
        if(view_xview[0] &gt; 864)
            view_xview[0] = 864;
        room_width = 1296;
        //Posição do icone do fim do nível
        levelend_pos = 148;
    }break;
    case(3):{
        if(view_xview[0] &gt; 1296)
            view_xview[0] = 1296;
        room_width = 1728;
        //Posição do icone do fim do nível
        levelend_pos = 160;
        
    }break;
    case(4):{
        if(view_xview[0] &gt; 1728)
            view_xview[0] = 1728;
        room_width = 2160;
        //Posição do icone do fim do nível
        levelend_pos = 172;
    }break;
    case(5):{
        if(view_xview[0] &gt; 2160)
            view_xview[0] = 2160;
        room_width = 2592;
        //Posição do icone do fim do nível
        levelend_pos = 184;
    }break;
    case(6):{
        if(view_xview[0] &gt; 2592)
            view_xview[0] = 2592;
        room_width = 3024;
        //Posição do icone do fim do nível
        levelend_pos = 196;
    }break;
    case(7):{
        if(view_xview[0] &gt; 3024)
            view_xview[0] = 3024;
        room_width = 3456;
        //Posição do icone do fim do nível
        levelend_pos = 208;
    }break;
    case(8):{
        if(view_xview[0] &gt; 3456)
            view_xview[0] = 3456;
        room_width = 3888;
        //Posição do icone do fim do nível
        levelend_pos = 220;
    }break;
    case(9):{
        if(view_xview[0] &gt; 3888)
            view_xview[0] = 3888;
        room_width = 4320;
        //Posição do icone do fim do nível
        levelend_pos = 232;
    }break;
    case(10):{
        if(view_xview[0] &gt; 4320)
            view_xview[0] = 4320;
        room_width = 4752;
        //Posição do icone do fim do nível
        levelend_pos = 244;
    }break;
    case(11):{
        if(view_xview[0] &gt; 4752)
            view_xview[0] = 4752;
        room_width = 5184;
        //Posição do icone do fim do nível
        levelend_pos = 256;
    }break;
    case(12):{
        if(view_xview[0] &gt; 5184)
            view_xview[0] = 5184;
        room_width = 5616;
        //Posição do icone do fim do nível
        levelend_pos = 268;
    }break;    
    case(13):{
        if(view_xview[0] &gt; 5616)
            view_xview[0] = 5616;
        room_width = 6048;
        //Posição do icone do fim do nível
        levelend_pos = 280;
    }break;
    case(14):{
        if(view_xview[0] &gt; 6048)
            view_xview[0] = 6048;
        room_width = 6480;
        //Posição do icone do fim do nível
        levelend_pos = 292;
    }break;
    case(15):{
        if(view_xview[0] &gt; 6480)
            view_xview[0] = 6480;
        room_width = 6912;
        //Posição do icone do fim do nível
        levelend_pos = 304;
    }break;
    case(16):{
        if(view_xview[0] &gt; 6912)
            view_xview[0] = 6912;
        room_width = 7344;
        //Posição do icone do fim do nível
        levelend_pos = 316;
    }break;
}
with(obj_uni_shadow) event_user(0)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="18">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Criar objetos básicos
//Buttons
instance_create(0,0,obj_uni_layout_button_music)
instance_create(0,0,obj_uni_layout_button_timer)
instance_create(0,0,obj_uni_layout_button_levelstyles)
instance_create(0,0,obj_uni_layout_button_robot)
instance_create(0,0,obj_uni_layout_button_eraser)
instance_create(0,0,obj_uni_layout_button_rocket)
instance_create(0,0,obj_uni_layout_button_mini_offon)
instance_create(0,0,obj_uni_layout_button_mini_size);
instance_create(0,0,obj_uni_layout_button_autoscroll);
instance_create(0,0,obj_uni_layout_button_mini_grid);
instance_create(0,0,obj_uni_layout_button_menu)
instance_create(0,0,obj_uni_layout_button_forum)
instance_create(0,0,obj_uni_layout_button_cat)
instance_create(0,0,obj_uni_layout_button_frog)
instance_create(0,0,obj_uni_layout_button_maryjess)
instance_create(0,0,obj_uni_layout_button_mini_shadow);
instance_create(0,0,obj_uni_icon_DEMO)
instance_create(0,0,obj_uni_creation_preview)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="17">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Destruir objetos básicos
//Buttons
with (obj_uni_layout_button_music) instance_destroy();
with (obj_uni_layout_button_timer) instance_destroy();
with (obj_uni_layout_button_levelstyles) instance_destroy();
with (obj_uni_layout_button_robot) instance_destroy();
with (obj_uni_layout_button_eraser) instance_destroy();
with (obj_uni_layout_button_rocket) instance_destroy();
with (obj_uni_layout_button_mini_offon) instance_destroy();
with (obj_uni_layout_button_mini_grid) instance_destroy();
with (obj_uni_layout_button_mini_size) instance_destroy();
with (obj_uni_layout_button_menu) instance_destroy();
with (obj_uni_icon_DEMO) instance_destroy();
with (obj_uni_creation_preview) instance_destroy();
with (obj_uni_layout_button_autoscroll) instance_destroy();
with (obj_uni_layout_button_forum) instance_destroy();
with (obj_uni_layout_button_cat) instance_destroy();
with (obj_uni_layout_button_frog) instance_destroy();
with (obj_uni_layout_button_maryjess) instance_destroy();
with (obj_uni_layout_button_mini_shadow) instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="16">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Estilo do nível
audio_master_gain(0)
instance_create(x,y,obj_uni_darksurface);
global.uni_instance_deactivate = 0;

//--------------SPRITES----------------
if(global.uni_level_style == 19){

    global.theme_spritesheet = global.custom_scenery_sprsheet;
    if(global.custom_scenery_sprsheet_frames &gt; 1){
        alarm[8] = global.custom_scenery_sprsheet_anim;
    };
};
else{

    global.theme_spritesheet = spr_styles;
    global.theme_customanim = 0;
    alarm[8] = -1;
};

alarm[5] = 2;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="14">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Música do jogo

//Parar música para poder trocar
audio_stop_sound(editor_music);
audio_stop_sound(level_music);
audio_stop_sound(global.custom_music_ambience);

if(global.uni_level_music == 0){

//Trocar música
switch (global.uni_level_style){
     case (0): level_music = global.uni_musicpack[0]; editor_music = global.uni_musicpack[23]; break; //Ground
     case (1): level_music = global.uni_musicpack[1]; editor_music = global.uni_musicpack[24]; break; //Underground
     case (2): level_music = global.uni_musicpack[2]; editor_music = global.uni_musicpack[25]; break; //
     case (3): level_music = global.uni_musicpack[3]; editor_music = global.uni_musicpack[26]; break;
     case (4): level_music = global.uni_musicpack[4]; editor_music = global.uni_musicpack[27]; break;
     case (5): level_music = global.uni_musicpack[5]; editor_music = global.uni_musicpack[28]; break;
     case (6): level_music = global.uni_musicpack[6]; editor_music = global.uni_musicpack[29]; break;
     case (7): level_music = global.uni_musicpack[7]; editor_music = global.uni_musicpack[30]; break;
     case (8): level_music = global.uni_musicpack[8]; editor_music = global.uni_musicpack[31]; break;
     case (9): level_music = global.uni_musicpack[9]; editor_music = global.uni_musicpack[32]; break;
     case (10): level_music = global.uni_musicpack[10]; editor_music = global.uni_musicpack[33]; break;
     case (11): level_music = global.uni_musicpack[11]; editor_music = global.uni_musicpack[34]; break;
     case (12): level_music = global.uni_musicpack[12]; editor_music = global.uni_musicpack[35]; break;
     case (13): level_music = global.uni_musicpack[13]; editor_music = global.uni_musicpack[36]; break;
     case (14): level_music = global.uni_musicpack[14]; editor_music = global.uni_musicpack[37]; break;
     case (15): level_music = global.uni_musicpack[15]; editor_music = global.uni_musicpack[38]; break;
     case (16): level_music = global.uni_musicpack[16]; editor_music = global.uni_musicpack[39]; break;
     case (17): level_music = global.uni_musicpack[17]; editor_music = global.uni_musicpack[40]; break;
     case (18): level_music = global.uni_musicpack[18]; editor_music = global.uni_musicpack[41]; break;
     case (19): level_music = global.custom_music_play; editor_music = global.custom_music_edit; break;
     case (20): level_music = global.uni_musicpack[19]; editor_music = global.uni_musicpack[42]; break;
     case (21): level_music = global.uni_musicpack[20]; editor_music = global.uni_musicpack[43]; break;
     case (22): level_music = global.uni_musicpack[21]; editor_music = global.uni_musicpack[44]; break;
     case (23): level_music = global.uni_musicpack[22]; editor_music = global.uni_musicpack[45]; break;
    }
}
else{
    level_music = global.custom_music_play; 
    editor_music = global.custom_music_edit;
};
/*Caso tenha sido usado o Easter Egg da música do editor.**
**Trocar a música do editor novamente antes de ser tocada*/
if(global.uni_paintmusic != 0){

    if(global.uni_paintmusic == 1)
        editor_music = global.uni_musicpack[49];
    else if(global.uni_paintmusic == 2)
        editor_music = global.uni_musicpack[50];
    else
        editor_music = global.uni_musicpack[48];
};

//Tocar a nova música
audio_play_sound(editor_music,0,1);
audio_play_sound(level_music,0,1);
audio_play_sound(global.custom_music_ambience,0,1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="12">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Editor Mode - Play Mode

//Excluir a zona de atividade para ativar tudo de uma só vez
//global.uni_instance_deactivate = false;
if(global.uni_mode = 0){

//Ativar tudo
global.uni_instance_deactivate = 0;

//Edit para Play
if(global.uni_play == false){
    //RASTRO
    with(obj_uni_mario_trail) 
        instance_destroy();
    if (global.uni_layout = true)
        global.uni_layout = false;
    scr_uni_edit_to_play();
    global.uni_play = 1;
    //alarm[1] = 1;
    event_user(5);
    instance_create(0,0,obj_uni_levelmanager);
    view_object[0] = obj_uni_levelmanager;
    with (obj_uni_mario)
        event_user(0);
    event_user(7)
    
    //Começar a criar rastro do Mario
    if(global.uni_mario_trail != 0)
        alarm[7] = 2;
    //Forçar parada do FFW
    fade_ffw = 0;
    nav_spd = 0;
    alarm[4] = -1;
}
//Play para Edit
else{
    if (global.uni_layout = false)
        global.uni_layout = true;
    scr_uni_play_to_edit();
    global.uni_play = 0;
    //Se o Mario não estiver fora do limite da tela
    if(instance_exists(obj_mario)){
            instance_create(view_xview[0]+210,view_yview[0]+120,obj_uni_mario);
        with (obj_mario)
        instance_destroy();
    }
    else
        instance_create(view_xview[0]+71,view_yview[0]+200,obj_uni_mario);
    with (obj_uni_levelmanager)
    instance_destroy();
    view_object[0] = id;
    view_hborder[0] = 512;
    view_vborder[0] = 288;
    event_user(8)
}
}
//UniPlayer
else{
    audio_master_gain(0)
    global.uni_layout = false;
    scr_uni_player();
    global.uni_play = 1;
    instance_create(x,y,obj_uni_levelmanager);
    view_object[0] = obj_uni_levelmanager;
    with(obj_uni_mario) instance_destroy();
    alarm[0] = 2;
//Ativar tudo
global.uni_instance_deactivate = 1;
    
}
with(obj_uni_background) event_user(6);
//Retornar a zona de atividade
//global.uni_instance_deactivate = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Cor do Layout
switch (global.uni_layout_color){
 case (0): color = c_gray; break;    //Cinza
 case (1): color = c_dkgray; break;   //Cinza escuro
 case (2): color = c_red; break;   //Vermelho
 case (3): color = c_maroon; break; //
 case (4): color = c_lime; break;
 case (5): color = c_green; break;
 case (6): color = c_aqua; break;
 case (7): color = c_blue; break; 
 case (8): color = c_navy; break;
 case (9): color = c_yellow; break;
 case (10): color = c_olive; break;
 case (11): color = c_fuchsia; break;
 case (12): color = c_purple; break;
 case (13): color = c_orange; break;
 case (14): color = c_teal; break;
 case (15): color = c_ltgray; break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Criar objetos principais
//Sistema
instance_create(0,0,obj_uni_saveload_control);
instance_create(0,0,obj_uni_cursor);
if(global.uni_mode = 0)
instance_create(0,0,obj_uni_cursor_sprite);
instance_create(0,0,obj_uni_layout_button_menu)
instance_create(0,0,obj_uni_shadow);
instance_create(0,0,obj_uni_layout_play);
//Criar objetos básicos
event_user(8);
//Mario
instance_create(view_xview[0]+71,view_yview[0]+200,obj_uni_mario)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Salvar nível de entrada
audio_stop_all();
//with(obj_uni_saveload_control)
//   event_user(2);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Carregar nível de entrada
//with(obj_uni_saveload_control)
//    event_user(3);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Salvar nível de entrada
//with(obj_uni_saveload_control)
//    event_user(2);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Level HUD
if(global.uni_play == 1){

///Coin
draw_set_font(font_coin);
draw_sprite_ext(spr_hud_coin,0,view_xview[0]+17,view_yview[0]+35,1,1,0,c_white,1);
draw_text(view_xview[0]+43,view_yview[0]+35,string_add_zeros(global.coins,2));

///Lives
draw_sprite_ext(spr_hud_mario,22,view_xview[0]+15,view_yview[0]+8,1,1,0,c_white,1);
draw_set_font(font_lives);
draw_sprite_ext(spr_font_mininumbers,11,view_xview[0]+34,view_yview[0]+25,1,1,0,c_white,1);
if(global.uni_mode == 0){
draw_sprite_ext(spr_font_mininumbers,10,view_xview[0]+41,view_yview[0]+25,1,1,0,c_white,1);
draw_sprite_ext(spr_font_mininumbers,10,view_xview[0]+48,view_yview[0]+25,1,1,0,c_white,1);
draw_sprite_ext(spr_font_mininumbers,10,view_xview[0]+48+7,view_yview[0]+25,1,1,0,c_white,1);
};
else{
    draw_text(view_xview[0]+41,view_yview[0]+25,string(global.deaths));
};
///Score
draw_set_font(font_score);
draw_set_halign(fa_center);
draw_set_valign(fa_middle);
draw_text_ext_transformed(view_xview[0]+388,view_yview[0]+31,string_add_zeros(score,6),0,90,1,1,0);
draw_set_halign(fa_left);
draw_set_valign(fa_top);

///Timer
var tms;
if(global.uni_level_time == -1)
    tms = "---";
else
    tms = string_add_zeros(global.uni_level_time,3);

draw_set_font(font_time)
draw_sprite_ext(spr_hud_timer,0,view_xview[0]+358,view_yview[0]+10,1,1,0,c_white,1);
draw_text(view_xview[0]+375,view_yview[0]+11,tms);
if(global.uni_level_time &lt; 101)
if(global.uni_level_time &gt; -1){
    
    draw_set_font(font_timehurry)
    draw_sprite_ext(spr_hud_timer,1,view_xview[0]+358,view_yview[0]+10,1,1,0,c_white,1);
    draw_text(view_xview[0]+375,view_yview[0]+11,tms);
};
};
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Layout do editor
if(global.uni_layout_fade &gt; 0)
&amp;&amp;(global.uni_layout != 0){

//Laterais
draw_sprite_ext(spr_uni_layout_part_glass,color,view_xview[0]+0,view_yview[0]+0,40,432,0,c_white,global.uni_layout_fade);
draw_sprite_ext(spr_uni_layout_part_glass,color,view_xview[0]+392,view_yview[0]+0,40,432,0,c_white,global.uni_layout_fade);
//Topo
draw_sprite_ext(spr_uni_layout_part_top,1,view_xview[0]+0,view_yview[0]+36,1,1,0,c_white,global.uni_layout_fade);
draw_sprite_ext(spr_uni_layout_part_top,0,view_xview[0]+0,view_yview[0]+36,1,1,0,color,global.uni_layout_fade);
//Inferior
draw_sprite_ext(spr_uni_layout_part_bottom,1,view_xview[0]+0,view_yview[0]+226,1,1,0,color,global.uni_layout_fade);
draw_sprite_ext(spr_uni_layout_part_bottom,0,view_xview[0]+0,view_yview[0]+226,1,1,0,c_white,global.uni_layout_fade);
//Superior
draw_sprite_ext(spr_uni_layout_part_bar,0,view_xview[0]+47,view_yview[0]+13,1,1,0,c_white,global.uni_layout_fade);
draw_sprite_ext(spr_uni_layout_part_bar,1,view_xview[0]+310,view_yview[0]+15,1,1,0,c_white,global.uni_layout_fade);
draw_sprite_ext(spr_uni_layout_part_bar,2,view_xview[0]+363,view_yview[0]+15,1,1,0,c_white,global.uni_layout_fade);
//Play
draw_sprite_ext(spr_uni_layout_part_bar,3,view_xview[0]+3,view_yview[0]+219,1,1,0,c_white,global.uni_layout_fade);
//Delete
draw_sprite_ext(spr_uni_layout_part_bar,3,view_xview[0]+395,view_yview[0]+219,1,1,0,c_white,global.uni_layout_fade);
draw_sprite_ext(spr_uni_layout_part_bar,4,view_xview[0]+398,view_yview[0]+222,1,1,0,color,global.uni_layout_fade);
//Barra de scrolling
draw_sprite_ext(spr_uni_layout_part_scrollbar,4,view_xview[0]+124,view_yview[0]+231,1,1,0,c_white,global.uni_layout_fade);
draw_sprite_ext(spr_uni_layout_part_scrollbar_icons,2,view_xview[0]+levelend_pos,view_yview[0]+227,1,1,0,c_white,global.uni_layout_fade);
//draw_sprite_ext(spr_uni_layout_part_scrollbar_icons,1,view_xview[0]+levelstart_pos,view_yview[0]+227,1,1,0,c_white,global.uni_layout_fade);
draw_sprite_ext(spr_uni_layout_part_scrollbar_icons,0,((view_xview[0]+view_xview[0]/36.05)+124),view_yview[0]+227,1,1,0,c_white,global.uni_layout_fade);
//Relógio
draw_set_alpha(global.uni_layout_fade);
draw_set_font(font_clock)
draw_sprite_ext(spr_uni_font_clock,10,view_xview[0]+364,view_yview[0]+229,1,1,0,c_white,global.uni_layout_fade);
draw_text(view_xview[0]+349,view_yview[0]+229,string_add_zeros(obj_persistent.edit_hour,2))
draw_text(view_xview[0]+371,view_yview[0]+229,string_add_zeros(obj_persistent.edit_min,2))
draw_set_alpha(1);

//DEBUG
/*draw_set_font(font_clock);
draw_text(view_xview[0]+45,view_yview[0]+41,string(instance_count));
draw_text(view_xview[0]+45,view_yview[0]+51,string(global.uni_instance_deactivate));*/
};
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
